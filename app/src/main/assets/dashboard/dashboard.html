<!--
  ~ Copyright (c) 2015.
  ~
  ~ This file is part of QA App.
  ~
  ~  Health Network QIS App is free software: you can redistribute it and/or modify
  ~  it under the terms of the GNU General Public License as published by
  ~  the Free Software Foundation, either version 3 of the License, or
  ~  (at your option) any later version.
  ~
  ~  Health Network QIS App is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~  GNU General Public License for more details.
  ~
  ~  You should have received a copy of the GNU General Public License
  ~  along with Foobar.  If not, see <http://www.gnu.org/licenses/>.
  -->
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta name = "viewport" content = "width=device-width, initial-scale=1.0, user-scalable=no">
    <script type = "text/javascript" src="Chart.min.js"> </script>
<style>
    select{
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    font-size: 20px;
    padding: 0 0 0 20px;
    width: 102%;
    background: url(img/select.png) no-repeat right #3e3e3f;
    color: white;
    margin-left: -9px;
    }
    @font-face {
    font-family: 'Roboto-Condensed';
    src: url('../fonts/Roboto-Condensed.ttf');
    font-weight:    bold;
    }
    body{
    background-color:#e5e5e5;
    font-family: 'Roboto-Condensed';
    margin-top:20px;
    }
    .line-title{
    float: left;
    font-size: 20px;
    padding: 10px;
    padding-left: 0px;
    }

    .tip{
    float:right;
    }

    canvas, table{
    margin: 5px;
    }

    .chart-legend li span{
    display: inline-block;
    width: 12px;
    height: 12px;
    margin-right: 5px;
    }

    .chart-legend ul{
    list-style-type: none;
    }

    .horizontal{
    text-align:center;
    clear:both;
    }

    .horizontal li{
    display:inline;
    padding-right:5px;
    }

    table {
    width: 100%;
    border-collapse: collapse;
    }

    table, td, th {
    border: 0px solid black;
    text-align: center;
    }
    td.green{
    background-color: #81980d;
    }

    td.amber{
    background-color: #00b4e3;
    }

    td.red{
    background-color: #fa8900;
    }

    th{
    width:16.6%;
    }
    .circlerow{
    margin: auto;
    text-align: center;
    width: 20px!important;
    height: 20px!important;
    align-content: center;
    }
    td.red{
    background-color: #fa8900;
    }
    td.greencircle>div{
    margin: auto;
    border-radius: 50%;
    height: 100%;
    color: white;
    font-weight: bold;
    margin-top: 5px;
    padding: 3px;
    margin-bottom: 5px;
    }
    .centerspan{
    margin: auto;
    text-align: center;
    align-content: center;
    }
    td.ambercircle>div{
    margin: auto;
    border-radius: 50%;
    height: 100%;
    color: white;
    font-weight: bold;
    margin-top: 5px;
    padding: 3px;
    margin-bottom: 5px;
    }
    td.redcircle>div{
    margin: auto;
    border-radius: 50%;
    height: 100%;
    color: white;
    font-weight: bold;
    margin-top: 5px;
    padding: 3px;
    margin-bottom: 5px;
    }
    .hide {
    display:none;
    }
    .show {
    display:block;
    }
    #spinnerProgram{
        top: -5px;
        position: absolute;
        width: 48.2%;
        border-radius: 0px;
    }
	#spinnerOrgUnit {
		top: -5px;
		left: 50%;
		position: absolute;
		width: 48.2%;
		border-radius: 0px;
		display: inline-block;
    }
    #tableCanvas,#pieChartContent{
        padding-top: 35px;
    }
    #spinnerProgram>select,#spinnerOrgUnit>select{
        background-size: 32px 32px;
        text-transform: uppercase;
        padding: 12 0 12 20px!important;
        font-size: 30px;
        font-weight:bold;
        font-family: "Roboto-Medium.ttf";
    }

</style>
</head>
<body>
<!--Legend for this chart-->
<div id="selectBlock">
<div id="spinnerProgram" class="horizontal"></div>
<div id="spinnerOrgUnit" class="horizontal"></div>
</div>
<!--Sent surveys x month-->
<div id="tableCanvas" class="show">
    <!--title of the chart-->
    <span class="line-title" id="titleSent"></span>
    <br/>
    <br/>
    <div id="sentLegend" class="chart-legend horizontal"></div>
    <!--Multiline chart holder-->
    <canvas id="surveyXMonthCanvas" style="width: 100%; height: auto;"></canvas>
</div>
<div id="pieChartContent"></div>
<!--Pie charts will be added right here-->

<!--Table 12 months-->

<script type = "text/javascript" src="translated.messages.js"> </script>

<script type = "text/javascript" src="sent.month.js"> </script>

<script type = "text/javascript" src="pie.tabgroup.js"> </script>

<script type = "text/javascript" src="table.facilities.js"> </script>

<!-- pie template with table-->
<script type = "text/html" id="pieTemplate">
    <div id="graphicCanvas">
        <div style="display:inline;">
            <canvas id="tabgroupCanvas###" style="width: 60%; height: auto; left:0px; display:block;"></canvas>
            <div id="tabgroupLegend###" class="chart-legend" style="display:block;right: 0px;position: absolute;top: 75px; padding-right:20%;">
                <span id="tabgroupTip###" class="tip" style="display:none;"></span>
            </div>
        </div>

        <div>
            <span class="line-title" id="titleFacilities"></span>
            <hr style="background-color:#81980d;
			width:100%;
            height: 2px;"/>
            <div>
                <table style="display: table-cell!important;">
                    <thead id="facilitiesHead">
                    </thead>
                    <tbody id="facilitiesBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</script>
<!--
<script>
EXAMPLE DATA:
initContext({'assesmentUnderTaken':'Assessments undertaken','target': 'Target','qualityOfCare': 'Quality of care: Last ','months':' months'});
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([10,0, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','Mar']);
setProgramData([10,0, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','Apr']);
setProgramData([0,10, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','May']);
setProgramData([0,10, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','Jun']);
setProgramData([10,0, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','Jul']);
setProgramData([0,10, 'NG PPMVs Sales and Stock Tracker', 'HymjisclaIZ','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','Mar']);
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','Apr']);
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','May']);
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','Jun']);
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','Jul']);
setProgramData([0,0, 'KE HNQIS Post Partum IUD', 'N5Z0gywdCKu','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','Mar']);
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','Apr']);
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','May']);
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','Jun']);
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','Jul']);
setProgramData([0,0, 'KE HNQIS Work Environment', 'oqXy5JbmNSb','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','Mar']);
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','Apr']);
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','May']);
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','Jun']);
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','Jul']);
setProgramData([0,0, 'KE HNQIS Hypertension', 'oKCY1HEmMBF','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','Mar']);
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','Apr']);
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','May']);
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','Jun']);
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','Jul']);
setProgramData([0,0, 'KE HNQIS Tuberculosis', 'uQCUliBmla1','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'Smoke', 'xHn1Oua7W54','Mar']);
setProgramData([0,0, 'Smoke', 'xHn1Oua7W54','Apr']);
setProgramData([14,0, 'Smoke', 'xHn1Oua7W54','May']);
setProgramData([1,0, 'Smoke', 'xHn1Oua7W54','Jun']);
setProgramData([0,0, 'Smoke', 'xHn1Oua7W54','Jul']);
setProgramData([0,0, 'Smoke', 'xHn1Oua7W54','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','Mar']);
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','Apr']);
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','May']);
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','Jun']);
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','Jul']);
setProgramData([0,0, '_XX HNQIS Test', 'ZeVPKI4b1JH','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','Mar']);
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','Apr']);
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','May']);
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','Jun']);
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','Jul']);
setProgramData([0,0, 'KE HNQIS Newborn Resuscitation', 'um7laExXhne','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','Mar']);
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','Apr']);
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','May']);
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','Jun']);
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','Jul']);
setProgramData([0,0, 'KE HNQIS Labour and Delivery', 'xNXRMVoG8Ku','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','Mar']);
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','Apr']);
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','May']);
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','Jun']);
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','Jul']);
setProgramData([0,0, 'KE HNQIS Cervical Cancer', 'g5JtETComKt','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','Mar']);
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','Apr']);
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','May']);
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','Jun']);
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','Jul']);
setProgramData([0,0, 'KE HNQIS Family Planning', 'wK0958s1bdj','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','Mar']);
setProgramData([0,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','Apr']);
setProgramData([8,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','May']);
setProgramData([5,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','Jun']);
setProgramData([19,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','Jul']);
setProgramData([1,0, 'KE HNQIS IMCI', 'd6PHrjjljS1','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','Mar']);
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','Apr']);
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','May']);
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','Jun']);
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','Jul']);
setProgramData([0,0, 'KE HNQIS HIV', 'rKjg29O3RFu','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','Mar']);
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','Apr']);
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','May']);
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','Jun']);
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','Jul']);
setProgramData([0,0, 'KE HNQIS Pregnancy and Delivery Complications', 'O4IKyT6jfMf','Aug']);
updateChartTitle('titleSent','Total number of assessments undertaken');
setProgramData([0,0, 'KE HNQIS Focused Antenatal Care', 'Iq1D7YfHYA4','Mar']);
setProgramData([0,0, 'KE HNQIS Focused Antenatal Care', 'Iq1D7YfHYA4','Apr']);
setProgramData([0,0, 'KE HNQIS Focused Antenatal Care', 'Iq1D7YfHYA4','May']);
setProgramData([0,0, 'KE HNQIS Focused Antenatal Care', 'Iq1D7YfHYA4','Jun']);
setProgramData([0,0, 'KE HNQIS Focused Antenatal Care', 'Iq1D7YfHYA4','Jul']);
javascript:updateChartTitle('titleSent','Total number of assessments undertaken');
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','Mar']);
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','Apr']);
javascript:setOrgUnitData([20, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','May']);
javascript:setOrgUnitData([6, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','Jun']);
javascript:setOrgUnitData([19, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','Jul']);
javascript:setOrgUnitData([2, 30, 'KE - HNQIS SF pilot test facility 1', 'QS7sK8XzdQc','Aug']);
javascript:updateChartTitle('titleSent','Total number of assessments undertaken');
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','Mar']);
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','Apr']);
javascript:setOrgUnitData([2, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','May']);
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','Jun']);
javascript:setOrgUnitData([0, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','Jul']);
javascript:setOrgUnitData([1, 30, 'KE - HNQIS SF pilot test facility 2', 'xNLfNAtUXfA','Aug']);
showMainTable();
buildTableFacilities(6,{title:'Smoke',months:['Mar','Apr','May','Jun','Jul','Aug'],facilities:[{name:'KE - HNQIS SF pilot test facility',values:[null,null,50,100,null,null]}],tableuid:'sMoSzJVHWUk',id:'6'});
buildTableFacilities(12,{title:'KE HNQIS ICM',months:['Mar','Apr','May','Jun','Jul','Aug'],facilities:[{name:'KE - HNQIS SF pilot test facility',values:[null,null,25,12,80,null]},{name:'KE - HNQIS SF pilot test facility',values:[null,null,52,null,null,0]}],tableuid:'Gn9OaJy3MBO',id:'12'});
buildTableFacilities(6,{title:'Smoke',months:['Mar','Apr','May','Jun','Jul','Aug'],facilities:[{name:'KE - HNQIS SF pilot test facility',values:[null,null,10,50,null,null]}],tableuid:'XXXX1',id:'6'});
javascript:buildTableFacilities(1,{title:'KE - HNQIS SF pilot test facility 1',months:['Mar','Apr','May','Jun','Jul','Aug'],facilities:[{name:'KE - HNQIS SF pilot test facility 1',values:[null,null,42,27,80,33]}],tableuid:'QS7sK8XzdQc',id:'1'})
javascript:buildTableFacilities(2,{title:'KE - HNQIS SF pilot test facility 2',months:['Mar','Apr','May','Jun','Jul','Aug'],facilities:[{name:'KE - HNQIS SF pilot test facility 2',values:[null,null,52,null,null,0]}],tableuid:'xNLfNAtUXfA',id:'2'})
javascript:setProgramPieData([{title:'Smoke (Smoke)',tip:'Quality of care (based on last assessment)',idTabGroup: 6,valueA:8,valueB:0,valueC:7,uidprogram:'xHn1Oua7W54',uidorgunit:'sMoSzJVHWUk'},{title:'KE HNQIS Cervical Cancer (KE HNQIS Cervical Cancer)',tip:'Quality of care (based on last assessment)',idTabGroup: 10,valueA:0,valueB:1,valueC:1,uidprogram:'g5JtETComKt',uidorgunit:'PfMkyrcmucx'},{title:'KE HNQIS ICM (KE HNQIS IMCI)',tip:'Quality of care (based on last assessment)',idTabGroup: 12,valueA:12,valueB:7,valueC:14,uidprogram:'d6PHrjjljS1',uidorgunit:'Gn9OaJy3MBO'}])
setOrgUnitPieData([{title:'KE - HNQIS SF pilot test facility 1 (1)',tip:'Quality of care (based on last assessment)',idTabGroup: 1,valueA:20,valueB:7,valueC:20,uidprogram:'QS7sK8XzdQc',uidorgunit:'QS7sK8XzdQc'},{title:'KE - HNQIS SF pilot test facility 2 (2)',tip:'Quality of care (based on last assessment)',idTabGroup: 2,valueA:0,valueB:1,valueC:2,uidprogram:'xNLfNAtUXfA',uidorgunit:'xNLfNAtUXfA'}])
rebuildTableFacilities();
renderPieChartsByProgram();
setGreen({color:'#adda19'});
setRed({color:'#d1213c'});
setYellow({color:'#dbe444'});

</script>
-->
</body>
</html>